   ****** Г6-49 ****
-   В режиме ПАКЕТ канала А в канале должен быть установлен режим ИМПУЛЬС
    В режиме ПАКЕТ по каналу А выводится пакет импульсов, по каналу В - импульс, с длительностью пакета импульсов DL:
        DL = (N-1)*T + dli, где
            N - число импульсов в пакете,
            T - период импульсов в пакете,
            dli - длительность импульсов в пакете.
    В программе: в режиме ПАКЕТ по начальной установке устанавливаемя пакет из трёх импульсов - это правильно. Далее
    переходим на установки канала В, при выборе по каналу В режима ИМПУЛЬС в пакете появляется 5 импульсов - неправильно.
    Если установить для управления канала А, устанавливаемя правильное число импульсов - 3. С переключением каналов А и В
    число импульсов в пакете меняется.
        Должно быть: в режме ПАКЕТ канала В:
        - установлен режим ИМПУЛЬС;
        - заблокирована возможность изменения параметров - периода и длительности;
        - вид запуска.   
   
1.  Для расширения диапазонов формирования длительности и периода до 4000 сек. в проекте ПЛИС в регистре управления
    reg_cnt[15...0] введён бит 4, управляющий тактовой частотой делителей каналов А и В:
        0 - тактовая частота 100 МГц, такты 10 нс;
        1 - тактовая частота 1 МГц, такты 1 мкс.
        (пока этот бит не используется).
    В режимах ИМПУЛЬС, ПАКЕТ при вводе длительности ли периода значение превышает 40 сек необходимо устанавливать
    бит reg_cnt[4] в 1. При вычислении кода в регистрах длительности и периода использовать период тактовой частоты 1 мкс.
    Тактовая частота для формирователей каналов А и В одна и та же, поэтому при установке тактовой частоты 1 МГц в одном
    из каналов должны быть изменены численные значения длительности и периода для режимов ИМПУЛЬС, ПАКЕТ в другом
    канале.
3.  В режимах ИМПУЛЬС, ПАКЕТ, когда всключен однократный режим запуска, должна блокироваться возможность установки периода
    импульса/пакета и отображение его значения.
4.  В режиме ПАКЕТ на канал А выводится пакет импульсов, на канал В импульс с длительностью пакета импульсов
    DL = (N - 1) * T + dli.
    На дисплее для канала В отображать следующие параметры:
        - размах;
        - смещение;
        - длительность импульса (пакета).
5.  При выходе из режимае ПАКЕТ для канала В необходимо устновить последние введённые параметры режима ИМПУЛЬС, отобразить
    их на дисплее, выполнить программирование формирователей периода и длительности импульсов канала В.
6.  Если для сигнала ИМПУЛЬС установлен однократный режим, то при переключении на сигнал ПАКЕТ сохраняется однократный режим,
    хотя на дисплее отображается АВТО. Аналогично при переходе с сигнала ПАКЕТ на сигнал ИМПУЛЬС.
6.  Для расширения функциональных возможностей прибора введён дополнительный режим СТАРТ/СТОП, для реализации которого
    используются как и в режиме ПАКЕТ формирователи импульсов каналов А и В. В этом режиме по каналу А формируется сигнал
    СТАРТ, а по каналу В сигнал СТОП, который задержан относительно сигнала СТАРТ на время ЗАДЕРЖ.
        В программе: необходимо устанавливать:
            по каналу А:
            - период импульсов, он одинаков для сигналов СТАРТ и СТОП;
            - длительность сигнала СТАРТ;
            - время задежки;
            - запуск;
            - размах;
            - смещение;
            - полярность.
            по каналу В:
            - длительность сигнала СТОП;
            - размах;
            - смещение;
            - полярность.
7.  Режим СТАРТ/СТОП выбирается установкой битов регистра управления reg_cnt[15...0]:
        RG0.10  RG0.11  RG0.12
          1       1       0     - автоматический режим запуска Start/Sop
          1       1       1     - ручной режим запуска Start/Stop
8.  Использование регистров для установки временных параметров режима СТАРТ/СТОП:
    - 0101h - регистр кода периода прямоугольных импульсов канала А. Имеет 32 бит. Биты RG5.0...RG5.31 используются для
        установки периода прямоугольных сигналов в канале А. Длительность периода определяется соотношением
            Tп = N * 10нс, где N - код регистра.
    - 0110h - регистр кода длительности импульсов канала А. 32 бита.
        Биты RG6.0...RG6.31 используются для установки длительности прямоугольных сигналов в канале А. Длительность
        определяется соотношением
            Tи = N * 10нс, N - код регистра.
    - 0111h - регистр кода задержки. 32 бита.
        Биты RG7.0...RG7.31 используются для установки длительности задержки. Длительность задержки определяется
        соотношением
            Ти = 20нс(1мкс) + N * 10нс, N - код регистра.
        Минимальная длительность задержки 20нс, когда тактовая частота 100МГц и 2мкс, когда тактовая частота 1МГц.
    - 1000h - регистр кода длительности прямоугольных импульсов канала В. 32 бита - установка длительности  прямоугольных
        сигналов в канале В.
9.  При установке параметров программа не должна запускать ввод данных, когда длительность импульсов или длительность задержки
    больше или равна длительности периода.
10. При установке ручного запуска программа должна блокировать ввод периода импульсов и отображение его значения на экране.
11. При установке временного параметра более 40 сек необходимо установить reg_cnt[4] - лог. "1" - тактовая частота 1 МГц, такты
    1мкс. В расчётах использовать такты 1мкс, отображать значение длительностей с дискретностью 1мкс.


   *** Срочно ***
    
    Изменить форму минимального уровня громкости на треугольник ( как было раньше ) для более приятного звучания.
    Ввести в меню генератора сигналы экспоненциальный, шумовой и Гаусса.
    Сделать в генераторе сложный сигнал из синусоидальных гармоник
    Сделать иконку для генератора
    При корекции текствого поля ввода (например, в эксконенте) изменение формы запаздывает на одно нажатие кнопки
    В приборе сделать возможность того, чтобы при изменении частоты следования крутизна фронтов сигнала (например, треугольного) не изменялась. Для этого горизонтальные параметры должны иметь возможноость задаваться как в точках, так и в секундах.

    В редакторе в режиме редактирования точки после нажатия кнопки "Применить" окошко не должно закрываться. Пока сделано так, потому что сложно удалить точку перед изменением её индекса

    *** Редактор ***
    
    Сделать возможным засылку сигнала из редактора сразу в прибор через USB
    Сделать выделение участка
    Сигнал должен вставляться в выделенный участок. Редактирование разрешено только в выделенном участке, если таковой имеется.
    Сделать увеличение.
    Сделать возможным редактирование отдельных точек, а не только тех, где стоит маркер. Должен быть выбор - редактирование точек или редактирование линий.

   *** Сделать ***

- сборка из командной строки релизной, отладочной версии G6-49, редактора, wxWidgets или обоих версий одновременно
- Добавить ПОМОЩЬ в меню
- Доделать sin(x)/x в редакторе
- Сделать звук громче и возможность отключения из меню СЕРВИС
- !!!! При подключенной флешке не включается прибор !!!! предположительно при подключенной флешке, на которой записано много файлов
- Разрядность данных в редакторе, кажется, 13 бит, а не 14
- Сделать так, чтобы цвета для сохранения на флешку и gui-версии брались из одного места
- Возможно, звук от кнопки нужно пускать во время её обработки.
- предположительно медленно обновление экрана с содержимым флешки происходит из-за того, что сообщения о запросе имени файла посылаются много раз, пока имя не будет получено
- !!!! При подключенной флешке не включается прибор !!!! предположительно при подключенной флешке, на которой записано много файлов
- В окне коррекции лишний разряд при установке количества импульсов в пакете
- Ускорить переключение формы сигнала. Для этого рассчитывать точки DDS не в панели, а хранить их в device
- Работа с SCPI
- Не работает ручка на панели GUI
- Панель должна работать на "чистой" Windows
- При попытке ввести непосредственное значение частоты на синусоиде нажатием кнопки "0" получается пустая строка. Также должен быть возможен ввод значения нажатием кнопки "."
- В Device сделать сохранение настроек, чтобы после перезапуске в отладчике прибор автоматически восстанавливал режим
- Сделать так, чтобы при включении импульсного режима на одном из каналов включался такой же режим на другом канале, если там установлена пила. При дальнейшем переключении должна восстанавливаться пила.
- При однократном запуске частота в произвольном сигнале должна быть заменена на "длительность"
- Сделать возможность обновления через флешку
- В фунции CommandPanel::Trace() страшенный баг - при некоторых значениях размера массива для хранения результата SIZE программа просто виснет, даже не заходя в эту функцию.
- Меню НАСТРОЙКИ СИГНАЛОВ - Режим запуска должно меняться в зависимости от выбранной формы сигнала
- Русский язык для флешки
- Переключение формы сигнала занимает порядка одной секунды. Нужно сделать анимацию на время переключения. А то просто висит.

   *** Сделано ***

06.07.2020
  При калибровке амплитуды произвольного сигнала частоту нужно устанавливать 0.1Гц
  Исправить нижнее допустимое значение частоты - 300 мкГц для синусоидального сигнала, 100 мкГц для произвольного сигнала
  Дискретность установки длительностей и периодов импульсных сигналов может быть строго кратно 10 нс

03.07.2020
  В редакторе добавить сигнал sin(x)/(x)
   
02.07.2020
  Снимки экрана
  Сделать более контрастным отображение текущего параметра
  Нет установки количества импульсов в пакете
  Пакетный режим не работает
  "Период" и "длительность" заменить на " --//-- имп."
  драйвер
  
01.07.2020
  В импульсном и пакетном режимах импульсы имеют неправильную полярность
  При прокрутке списка файлов в выборе произвольного сигнала с флешки нужно делать паузу после перемещения на следующий файл, чтобы избавиться от подтормаживания при прокрутке
  Зависает при большом количестве файлов
  Выводить только файлы с нужным расширением
  Исправить отображение произвольного сигнала
  В команде *idn? исправить идентификатор на G6-49 и зафиксировать контрольную сумму
  Проверить полярность сигналов с флешки.
  На канале B нет произвольного сигнала
  Калибровка уровня частотомера не сохраняется
  При установке ненулевой амплитуды с нулевой на смещении более 2.5 В выводить сообщение "Смещение не более +/- 2.5В"
  Задействовать нажатие ручки
  Редактор должен работать на "чистой" Windows

30.06.2020
  Редактор должен работать на "чистой" Windows
  Инвертировать засылаемые в DDS точки
  При установленном смещении 1 В при изменении амплитуды синусоидального сигнала с 1В на 2В происходит сбой
  Сделать ограничение установки смещения и амплитуды в зависимости от установленных амплитуды и смещения

29.06.2020
  Работа с флешкой - сигнал должен сохраняться в энергонезависимой памяти
  В меандре при установке периода вылазит за экран
  Калибровка частотомера исчезла
  При установке смещения +/- 5В для нулевой амплитуды не используются калибровочные коэффициенты, похоже
  Редактор должен запускаться на "чистой" Windows
  Уровень частотомера не регулируется. Такой же принцип, как в смещении, только в смещении 0-й адрес, а в уровне - 1-й
  В импульсах период 100 мкс должен быть, а длительность 20 мкс
  Загрузочный экран "ОАО МНИПИ Г6-49"
  При включении прибора на выходах ничего не должно быть. Подавать сигналы на выход после нажатия кнопки ON1(ON2)
  Напряжение сигналов по умолчанию - 1В
  При попытке ввода числового значения в периоде сообщение "выход за пределы диапазона" - 2 нс не может быть.
  По умолчанию длительность и период пакета импульсов неправильные - длительность больше периода
  Отрисовка синуса в НАСТРОЙКИ_СИГНАЛОВ должна зависеть от настроек модуляции
  